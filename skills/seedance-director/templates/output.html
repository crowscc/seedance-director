<!DOCTYPE html>
<html lang="zh-CN" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{{project_title}} — Seedance Director</title>
<style>
  /* ═══════════════ THEME VARIABLES ═══════════════ */
  :root {
    --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
    --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  [data-theme="dark"] {
    --bg-base: #08080d;
    --bg-surface: #101018;
    --bg-card: #16161f;
    --bg-elevated: #1e1e2a;
    --bg-code: #0c0c14;
    --border: #2a2a3a;
    --border-accent: #3a3a50;
    --text-primary: #e8e8ed;
    --text-secondary: #9898ad;
    --text-muted: #5e5e74;
    --accent: #d4a853;
    --accent-dim: rgba(212, 168, 83, 0.15);
    --accent-glow: rgba(212, 168, 83, 0.08);
    --success: #34d399;
    --success-dim: rgba(52, 211, 153, 0.15);
    --segment-line: #2a2a3a;
    --table-header: #1a1a26;
    --table-row-alt: rgba(255,255,255,0.02);
    --table-row-hover: rgba(212, 168, 83, 0.06);
    --shadow-sm: 0 1px 3px rgba(0,0,0,0.4);
    --shadow-md: 0 4px 20px rgba(0,0,0,0.5);
    --shadow-lg: 0 8px 40px rgba(0,0,0,0.6);
    --noise: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.03'/%3E%3C/svg%3E");
  }

  [data-theme="light"] {
    --bg-base: #f4f1eb;
    --bg-surface: #faf8f4;
    --bg-card: #ffffff;
    --bg-elevated: #ffffff;
    --bg-code: #f0ede6;
    --border: #ddd8ce;
    --border-accent: #c8c0b4;
    --text-primary: #1a1a26;
    --text-secondary: #55556a;
    --text-muted: #8888a0;
    --accent: #a07828;
    --accent-dim: rgba(160, 120, 40, 0.1);
    --accent-glow: rgba(160, 120, 40, 0.05);
    --success: #059669;
    --success-dim: rgba(5, 150, 105, 0.1);
    --segment-line: #ddd8ce;
    --table-header: #f0ede6;
    --table-row-alt: rgba(0,0,0,0.02);
    --table-row-hover: rgba(160, 120, 40, 0.06);
    --shadow-sm: 0 1px 3px rgba(0,0,0,0.08);
    --shadow-md: 0 4px 20px rgba(0,0,0,0.08);
    --shadow-lg: 0 8px 40px rgba(0,0,0,0.1);
    --noise: none;
  }

  /* ═══════════════ BASE ═══════════════ */
  *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

  html {
    font-size: 15px;
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
  }

  body {
    font-family: -apple-system, "PingFang SC", "Microsoft YaHei", "Hiragino Sans GB", "Noto Sans SC", sans-serif;
    background: var(--bg-base);
    color: var(--text-primary);
    line-height: 1.65;
    transition: background 0.4s var(--ease-out-expo), color 0.3s;
    min-height: 100vh;
  }

  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image: var(--noise);
    background-repeat: repeat;
    pointer-events: none;
    z-index: 9999;
  }

  .container {
    max-width: 960px;
    margin: 0 auto;
    padding: 0 24px 80px;
  }

  /* ═══════════════ TOP BAR ═══════════════ */
  .topbar {
    position: sticky;
    top: 0;
    z-index: 100;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 14px 24px;
    margin: 0 -24px 32px;
    background: var(--bg-surface);
    border-bottom: 1px solid var(--border);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
  }

  .brand {
    font-size: 0.7rem;
    font-weight: 700;
    letter-spacing: 0.25em;
    color: var(--accent);
    text-transform: uppercase;
  }

  .theme-toggle {
    background: var(--bg-elevated);
    border: 1px solid var(--border);
    color: var(--text-secondary);
    padding: 6px 14px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.8rem;
    transition: all 0.2s;
  }
  .theme-toggle:hover {
    border-color: var(--accent);
    color: var(--accent);
  }

  /* ═══════════════ PROJECT HEADER ═══════════════ */
  .project-header {
    position: relative;
    padding: 40px 0 32px;
    margin-bottom: 40px;
    border-bottom: 1px solid var(--border);
  }

  .clap-stripes {
    height: 6px;
    margin-bottom: 24px;
    border-radius: 3px;
    background: repeating-linear-gradient(
      -45deg,
      var(--accent),
      var(--accent) 8px,
      var(--bg-base) 8px,
      var(--bg-base) 16px
    );
    opacity: 0.6;
  }

  .project-header h1 {
    font-size: 2.2rem;
    font-weight: 700;
    letter-spacing: -0.02em;
    margin-bottom: 16px;
    line-height: 1.2;
  }

  .meta-bar {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
  }

  .meta-tag {
    display: inline-flex;
    align-items: center;
    padding: 5px 14px;
    font-size: 0.8rem;
    font-weight: 500;
    color: var(--text-secondary);
    background: var(--bg-elevated);
    border: 1px solid var(--border);
    border-radius: 100px;
  }

  .meta-tag::before {
    content: '';
    width: 5px;
    height: 5px;
    border-radius: 50%;
    background: var(--accent);
    margin-right: 8px;
    flex-shrink: 0;
  }

  /* ═══════════════ SECTIONS ═══════════════ */
  .section {
    margin-bottom: 48px;
    animation: fadeUp 0.5s var(--ease-out-expo) both;
  }

  .section:nth-child(2) { animation-delay: 0.05s; }
  .section:nth-child(3) { animation-delay: 0.1s; }
  .section:nth-child(4) { animation-delay: 0.15s; }
  .section:nth-child(5) { animation-delay: 0.2s; }
  .section:nth-child(6) { animation-delay: 0.25s; }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(16px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .section > h2 {
    font-size: 0.7rem;
    font-weight: 700;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: var(--accent);
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 1px solid var(--border);
  }

  /* ═══════════════ ASSETS GRID ═══════════════ */
  .assets-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 14px;
  }

  .asset-card {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 10px;
    overflow: hidden;
    transition: all 0.25s var(--ease-out-expo);
  }
  .asset-card:hover {
    border-color: var(--accent);
    box-shadow: 0 0 0 1px var(--accent), var(--shadow-md);
    transform: translateY(-2px);
  }

  .asset-thumb {
    aspect-ratio: 4/3;
    background: var(--bg-elevated);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-muted);
    font-size: 0.75rem;
    border-bottom: 1px solid var(--border);
    overflow: hidden;
  }
  .asset-thumb img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .asset-info {
    padding: 12px 14px;
  }
  .asset-info h4 {
    font-size: 0.85rem;
    font-weight: 600;
    margin-bottom: 4px;
  }
  .asset-info p {
    font-size: 0.75rem;
    color: var(--text-secondary);
    line-height: 1.5;
  }

  /* ═══════════════ SEGMENT ═══════════════ */
  .segment {
    margin-bottom: 40px;
    padding-bottom: 40px;
    border-bottom: 1px dashed var(--segment-line);
  }
  .segment:last-of-type {
    border-bottom: none;
    padding-bottom: 0;
  }

  .segment-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 20px;
    flex-wrap: wrap;
  }

  .segment-header h3 {
    font-size: 1.1rem;
    font-weight: 700;
  }

  .segment-badge {
    padding: 3px 12px;
    font-size: 0.7rem;
    font-weight: 600;
    border-radius: 100px;
    background: var(--accent-dim);
    color: var(--accent);
    border: 1px solid rgba(212, 168, 83, 0.25);
  }

  /* ═══════════════ STORYBOARD TABLE ═══════════════ */
  .storyboard-wrap {
    overflow-x: auto;
    margin-bottom: 20px;
    border-radius: 10px;
    border: 1px solid var(--border);
  }

  .storyboard {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.82rem;
    white-space: nowrap;
  }

  .storyboard thead {
    background: var(--table-header);
  }

  .storyboard th {
    padding: 10px 14px;
    text-align: left;
    font-weight: 600;
    font-size: 0.7rem;
    letter-spacing: 0.06em;
    text-transform: uppercase;
    color: var(--text-muted);
    border-bottom: 1px solid var(--border);
  }

  .storyboard td {
    padding: 10px 14px;
    border-bottom: 1px solid var(--border);
    color: var(--text-secondary);
    vertical-align: top;
  }

  .storyboard td.desc {
    white-space: normal;
    min-width: 200px;
    max-width: 300px;
    color: var(--text-primary);
  }

  .storyboard tbody tr:nth-child(even) {
    background: var(--table-row-alt);
  }
  .storyboard tbody tr:hover {
    background: var(--table-row-hover);
  }

  .storyboard .shot-num {
    font-weight: 700;
    color: var(--accent);
    font-variant-numeric: tabular-nums;
  }

  .storyboard .shot-time {
    font-variant-numeric: tabular-nums;
    font-family: "SF Mono", "Fira Code", "Cascadia Code", Menlo, monospace;
    font-size: 0.78rem;
  }

  .storyboard .bilingual {
    display: flex;
    flex-direction: column;
    gap: 1px;
  }
  .storyboard .bilingual .en {
    font-size: 0.7rem;
    color: var(--text-muted);
  }

  /* ═══════════════ CONNECTION ═══════════════ */
  .connection {
    display: flex;
    align-items: center;
    gap: 14px;
    padding: 14px 18px;
    margin: 20px 0;
    background: var(--accent-glow);
    border: 1px solid rgba(212, 168, 83, 0.2);
    border-radius: 8px;
    font-size: 0.82rem;
    color: var(--text-secondary);
  }

  .connection-icon {
    flex-shrink: 0;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--accent-dim);
    border-radius: 8px;
    font-size: 1rem;
  }

  .connection strong {
    color: var(--accent);
  }

  /* ═══════════════ PROMPT CARD ═══════════════ */
  .prompt-card {
    background: var(--bg-code);
    border: 1px solid var(--border);
    border-radius: 10px;
    overflow: hidden;
  }

  .prompt-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 10px 16px;
    background: var(--bg-elevated);
    border-bottom: 1px solid var(--border);
  }

  .prompt-header h4 {
    font-size: 0.78rem;
    font-weight: 600;
    color: var(--text-secondary);
    letter-spacing: 0.04em;
  }

  .copy-btn {
    display: inline-flex;
    align-items: center;
    gap: 5px;
    padding: 5px 14px;
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--accent);
    background: var(--accent-dim);
    border: 1px solid rgba(212, 168, 83, 0.25);
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s var(--ease-out-expo);
    user-select: none;
  }
  .copy-btn:hover {
    background: rgba(212, 168, 83, 0.25);
    transform: translateY(-1px);
  }
  .copy-btn:active {
    transform: scale(0.96);
  }
  .copy-btn.copied {
    color: var(--success);
    background: var(--success-dim);
    border-color: rgba(52, 211, 153, 0.3);
  }

  .prompt-body {
    padding: 18px 20px;
    display: flex;
    flex-direction: column;
    gap: 18px;
  }

  .prompt-section {
    border-left: 3px solid var(--border);
    padding-left: 16px;
  }
  .prompt-section:hover {
    border-left-color: var(--accent);
  }

  .prompt-section-label {
    font-size: 0.7rem;
    font-weight: 700;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--accent);
    margin-bottom: 8px;
  }

  .prompt-section-content {
    font-size: 0.85rem;
    line-height: 1.7;
    color: var(--text-primary);
  }

  .character-ref {
    display: flex;
    align-items: baseline;
    gap: 8px;
    padding: 4px 0;
  }

  .ref-tag {
    display: inline-block;
    padding: 2px 8px;
    font-size: 0.72rem;
    font-weight: 600;
    font-family: "SF Mono", "Fira Code", Menlo, monospace;
    color: var(--accent);
    background: var(--accent-dim);
    border-radius: 4px;
    flex-shrink: 0;
  }

  .character-ref .ref-desc {
    color: var(--text-secondary);
    font-size: 0.82rem;
  }

  .prompt-shot {
    padding: 6px 0;
    border-bottom: 1px solid var(--border);
  }
  .prompt-shot:last-child {
    border-bottom: none;
  }

  .prompt-shot-time {
    font-weight: 600;
    font-family: "SF Mono", "Fira Code", Menlo, monospace;
    font-size: 0.78rem;
    color: var(--accent);
  }

  .prompt-shot-speaker {
    font-weight: 600;
    color: var(--text-primary);
  }

  .prompt-text {
    display: none;
    padding: 18px 20px;
    font-family: "SF Mono", "Fira Code", "Cascadia Code", Menlo, "Courier New", monospace;
    font-size: 0.82rem;
    line-height: 1.75;
    color: var(--text-primary);
    white-space: pre-wrap;
    word-break: break-all;
    overflow-x: auto;
  }

  /* ═══════════════ OPERATION GUIDE ═══════════════ */
  .steps {
    position: relative;
    padding-left: 28px;
  }
  .steps::before {
    content: '';
    position: absolute;
    left: 7px;
    top: 4px;
    bottom: 4px;
    width: 2px;
    background: var(--border);
    border-radius: 1px;
  }

  .step {
    position: relative;
    padding: 0 0 24px 20px;
  }
  .step:last-child { padding-bottom: 0; }

  .step::before {
    content: '';
    position: absolute;
    left: -24px;
    top: 6px;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: var(--bg-elevated);
    border: 2px solid var(--accent);
  }

  .step-title {
    font-size: 0.9rem;
    font-weight: 600;
    margin-bottom: 4px;
  }

  .step-desc {
    font-size: 0.82rem;
    color: var(--text-secondary);
    line-height: 1.6;
  }

  /* ═══════════════ TIPS ═══════════════ */
  .tips-list {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .tips-list li {
    padding: 12px 16px;
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 8px;
    font-size: 0.85rem;
    color: var(--text-secondary);
    transition: border-color 0.2s;
  }
  .tips-list li:hover {
    border-color: var(--border-accent);
  }
  .tips-list li strong {
    color: var(--text-primary);
  }

  /* ═══════════════ RESPONSIVE ═══════════════ */
  @media (max-width: 640px) {
    html { font-size: 14px; }
    .container { padding: 0 16px 60px; }
    .topbar { margin: 0 -16px 24px; padding: 12px 16px; }
    .project-header h1 { font-size: 1.6rem; }
    .meta-bar { gap: 6px; }
    .meta-tag { font-size: 0.72rem; padding: 4px 10px; }
    .assets-grid { grid-template-columns: repeat(2, 1fr); gap: 10px; }
    .segment-header { gap: 8px; }
    .storyboard { font-size: 0.76rem; }
    .storyboard th, .storyboard td { padding: 8px 10px; }
    .prompt-text { font-size: 0.76rem; padding: 14px 16px; }
    .steps { padding-left: 24px; }
  }

  /* ═══════════════ PRINT ═══════════════ */
  @media print {
    body { background: #fff; color: #1a1a1a; }
    .topbar, .theme-toggle { display: none; }
    .copy-btn { display: none; }
    .section { break-inside: avoid; }
  }
</style>
</head>
<body>

<div class="container">

  <!-- ═══════ TOP BAR ═══════ -->
  <nav class="topbar">
    <span class="brand">Seedance Director</span>
    <button class="theme-toggle" onclick="toggleTheme()" title="切换主题">
      <span class="theme-icon-dark">☀ 浅色</span>
      <span class="theme-icon-light">☾ 深色</span>
    </button>
  </nav>

  <!-- ═══════ PROJECT HEADER ═══════ -->
  <header class="project-header">
    <div class="clap-stripes"></div>
    <h1>{{project_title}}</h1>
    <div class="meta-bar">
      <span class="meta-tag">{{narrative_structure}}</span>
      <span class="meta-tag">{{total_duration}}</span>
      <span class="meta-tag">{{aspect_ratio}}</span>
      <span class="meta-tag">{{visual_style}}</span>
    </div>
  </header>

  <!-- ═══════ ASSETS ═══════ -->
  <section class="section">
    <h2>素材清单</h2>
    <div class="assets-grid">

      <!-- {{#assets}} -->
      <div class="asset-card">
        <div class="asset-thumb">{{asset_thumbnail}}</div>
        <div class="asset-info">
          <h4>{{asset_name}}</h4>
          <p>{{asset_purpose}}</p>
        </div>
      </div>
      <!-- {{/assets}} -->

    </div>
  </section>

  <!-- ═══════ SEGMENTS ═══════ -->
  <section class="section">
    <h2>分镜脚本</h2>

    <!-- {{#segments}} -->
    <div class="segment">
      <div class="segment-header">
        <h3>第 {{segment_number}} 段</h3>
        <span class="segment-badge">{{segment_duration}}</span>
        <span class="segment-badge">{{segment_strategy}}</span>
      </div>

      <div class="storyboard-wrap">
        <table class="storyboard">
          <thead>
            <tr>
              <th>镜号</th>
              <th>时间</th>
              <th>景别</th>
              <th>运镜</th>
              <th>画面描述</th>
              <th>角色 / 台词</th>
              <th>音效 / 音乐</th>
            </tr>
          </thead>
          <tbody>
            <!-- {{#shots}} -->
            <tr>
              <td class="shot-num">{{shot_number}}</td>
              <td class="shot-time">{{shot_time}}</td>
              <td><div class="bilingual"><span>{{shot_size_zh}}</span><span class="en">{{shot_size_en}}</span></div></td>
              <td><div class="bilingual"><span>{{camera_move_zh}}</span><span class="en">{{camera_move_en}}</span></div></td>
              <td class="desc">{{shot_description}}</td>
              <td>{{shot_dialogue}}</td>
              <td>{{shot_audio}}</td>
            </tr>
            <!-- {{/shots}} -->
          </tbody>
        </table>
      </div>

      <!-- {{#connection}} -->
      <div class="connection">
        <div class="connection-icon">⟿</div>
        <div>
          <strong>{{connection_label}}</strong>
          <span>{{connection_description}}</span>
        </div>
      </div>
      <!-- {{/connection}} -->

      <div class="prompt-card">
        <div class="prompt-header">
          <h4>即梦提示词 — 第 {{segment_number}} 段</h4>
          <button class="copy-btn" onclick="copyPrompt(this)">
            <span class="copy-label">复制</span>
          </button>
        </div>
        <div class="prompt-body">

          <div class="prompt-section">
            <div class="prompt-section-label">角色 + 参考图</div>
            <div class="prompt-section-content">
              <!-- {{#characters}} -->
              <div class="character-ref">
                <span class="ref-tag">@图片{{ref_number}}</span>
                <span class="ref-desc">{{character_name}}（{{character_role}}）— {{character_description}}</span>
              </div>
              <!-- {{/characters}} -->
              <!-- {{#scene_refs}} -->
              <div class="character-ref">
                <span class="ref-tag">@图片{{ref_number}}</span>
                <span class="ref-desc">场景参考 — {{scene_description}}</span>
              </div>
              <!-- {{/scene_refs}} -->
            </div>
          </div>

          <div class="prompt-section">
            <div class="prompt-section-label">背景介绍</div>
            <div class="prompt-section-content">{{background_intro}}</div>
          </div>

          <div class="prompt-section">
            <div class="prompt-section-label">镜头描述</div>
            <div class="prompt-section-content">
              <!-- {{#prompt_shots}} -->
              <div class="prompt-shot">
                <span class="prompt-shot-time">镜头{{shot_index}}（{{shot_time}}）：</span>
                {{shot_size}}，{{shot_content}}，<span class="prompt-shot-speaker">{{speaker}}</span>{{dialogue}}，{{camera_move}}
              </div>
              <!-- {{/prompt_shots}} -->
            </div>
          </div>

          <div class="prompt-section">
            <div class="prompt-section-label">风格指令</div>
            <div class="prompt-section-content">{{style_directives}}</div>
          </div>

          <div class="prompt-section">
            <div class="prompt-section-label">禁止项</div>
            <div class="prompt-section-content">{{negatives}}</div>
          </div>

        </div>
        <!-- 隐藏的纯文本版本，供复制按钮使用 -->
        <pre class="prompt-text">{{prompt_full_text}}</pre>
      </div>
    </div>
    <!-- {{/segments}} -->

  </section>

  <!-- ═══════ OPERATION GUIDE ═══════ -->
  <section class="section">
    <h2>操作指引</h2>
    <div class="steps">

      <!-- {{#steps}} -->
      <div class="step">
        <div class="step-title">{{step_title}}</div>
        <div class="step-desc">{{step_description}}</div>
      </div>
      <!-- {{/steps}} -->

    </div>
  </section>

  <!-- ═══════ OPTIMIZATION TIPS ═══════ -->
  <section class="section">
    <h2>优化建议</h2>
    <ul class="tips-list">

      <!-- {{#tips}} -->
      <li><strong>{{tip_title}}</strong> — {{tip_description}}</li>
      <!-- {{/tips}} -->

    </ul>
  </section>

</div>

<script>
/* ═══════ Theme Toggle ═══════ */
function toggleTheme() {
  const html = document.documentElement;
  const next = html.dataset.theme === 'dark' ? 'light' : 'dark';
  html.dataset.theme = next;
  try { localStorage.setItem('sd-theme', next); } catch(e) {}
}

(function() {
  try {
    const saved = localStorage.getItem('sd-theme');
    if (saved) document.documentElement.dataset.theme = saved;
  } catch(e) {}

  /* Show correct theme icon */
  const update = () => {
    const dark = document.documentElement.dataset.theme === 'dark';
    document.querySelectorAll('.theme-icon-dark').forEach(e => e.style.display = dark ? 'inline' : 'none');
    document.querySelectorAll('.theme-icon-light').forEach(e => e.style.display = dark ? 'none' : 'inline');
  };
  new MutationObserver(update).observe(document.documentElement, { attributes: true, attributeFilter: ['data-theme'] });
  document.addEventListener('DOMContentLoaded', update);
})();

/* ═══════ Copy to Clipboard ═══════ */
function copyPrompt(btn) {
  const pre = btn.closest('.prompt-card').querySelector('.prompt-text');
  const text = pre.textContent;

  navigator.clipboard.writeText(text).then(() => {
    btn.classList.add('copied');
    btn.querySelector('.copy-label').textContent = '已复制 ✓';

    setTimeout(() => {
      btn.classList.remove('copied');
      btn.querySelector('.copy-label').textContent = '复制';
    }, 2000);
  }).catch(() => {
    /* Fallback for older browsers */
    const range = document.createRange();
    range.selectNodeContents(pre);
    const sel = window.getSelection();
    sel.removeAllRanges();
    sel.addRange(range);
    document.execCommand('copy');
    sel.removeAllRanges();

    btn.classList.add('copied');
    btn.querySelector('.copy-label').textContent = '已复制 ✓';
    setTimeout(() => {
      btn.classList.remove('copied');
      btn.querySelector('.copy-label').textContent = '复制';
    }, 2000);
  });
}
</script>

</body>
</html>
